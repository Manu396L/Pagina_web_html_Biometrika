<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Ubicaciones Biométricas</title>
    <link rel="stylesheet" href="../assets/css/style_ubicacion.css">
    <script src="../assets/js/ubicaciones.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <a href="../admin/dashboard.html" class="btn-volver" title="Volver al inicio">
        <i class="fa-solid fa-arrow-left"></i>
    </a>

    <header>
        <h1><i class="fa-solid fa-map-location-dot"></i> Panel de Gestión de Ubicaciones</h1>
        <p>Utiliza este formulario para registrar nuevas sedes, oficinas y áreas de acceso.</p>
    </header>

    <main>
        <div class="mensaje-exito" id="mensaje-exito">
            <i class="fa-solid fa-check"></i>
            La ubicación ha sido registrada correctamente.
        </div>

        <form id="formularioUbicacion">
            
            <fieldset>
                <legend><i class="fa-solid fa-building"></i> Información de la Sede</legend>
                
                <div class="form-group">
                    <label for="tipo_ubicacion"><i class="fa-solid fa-layer-group"></i> Tipo de Ubicación: <span class="required">*</span></label>
                    <select id="tipo_ubicacion" name="tipo_ubicacion" required>
                        <option value="" disabled selected>Seleccione un tipo</option>
                        <option value="sede">Sede (Edificio Principal)</option>
                        <option value="oficina">Oficina (Piso/Ala)</option>
                        <option value="area">Área Específica (Sala/Cuarto)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="nombre_sede"><i class="fa-solid fa-signature"></i> Nombre de la Ubicación: <span class="required">*</span></label>
                    <input type="text" id="nombre_sede" name="nombre_sede" placeholder="Ej: Sede Central" required>
                </div>

                <div class="form-group">
                    <label for="codigo_unico"><i class="fa-solid fa-barcode"></i> Código Único (ID): <span class="required">*</span></label>
                    <input type="text" id="codigo_unico" name="codigo_unico" placeholder="Ej: WAN-001 (Para referencia del sistema)" required>
                </div>
                
                <div class="form-group">
                    <label for="direccion"><i class="fa-solid fa-location-dot"></i> Dirección Completa:</label>
                    <textarea id="direccion" name="direccion" rows="3" placeholder="Calle, número, ciudad"></textarea>
                </div>

                <div class="form-group">
                    <label for="descripcion"><i class="fa-solid fa-align-left"></i> Descripción Adicional:</label>
                    <textarea id="descripcion" name="descripcion" rows="3" placeholder="Detalles adicionales"></textarea>
                </div>
            </fieldset>

            <fieldset>
                <legend><i class="fa-solid fa-fingerprint"></i> Configuración de Seguridad Biométrica</legend>

                <div class="form-group">
                    <label for="dispositivo_biometrico"><i class="fa-solid fa-microchip"></i> Tipo de Dispositivo Biométrico:</label>
                    <select id="dispositivo_biometrico" name="dispositivo_biometrico">
                        <option value="huella">Lector de Huella Dactilar</option>
                        <option value="Tarjeta">Tarjeta de Acceso</option>
                        <option value="PIN">PIN</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="nivel_seguridad"><i class="fa-solid fa-shield-halved"></i> Nivel de Seguridad:</label>
                    <select id="nivel_seguridad" name="nivel_seguridad">
                        <option value="bajo">Bajo</option>
                        <option value="medio">Medio</option>
                        <option value="alto">Alto</option>
                    </select>
                </div>
            </fieldset>

            <fieldset>
                <legend><i class="fa-solid fa-key"></i> Configuración de Acceso</legend>

                <div class="form-group">
                    <label for="permisos"><i class="fa-solid fa-user-lock"></i> Permisos de Acceso:</label>
                    <select id="permisos" name="permisos" multiple size="3">
                        <option value="lectura">Lectura</option>
                        <option value="escritura">Escritura</option>
                        <option value="administracion">Administración</option>
                    </select>
                    <small class="helper-text">Mantén presionado Ctrl (Windows) o Cmd (Mac) para seleccionar múltiples opciones</small>
                </div>
            </fieldset>

            <button type="submit" class="btn"><i class="fa-solid fa-floppy-disk"></i> Guardar Cambios</button>
        </form>

        <!-- Listado de ubicaciones registradas -->
        <section class="listado-ubicaciones">
            <h2><i class="fa-solid fa-list-check"></i> Ubicaciones Registradas</h2>
            <div class="tabla-container">
                <table id="tablaUbicaciones">
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Nombre</th>
                            <th>Tipo</th>
                            <th>Dispositivo</th>
                            <th>Seguridad</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="cuerpoTabla">
                        <!-- Las ubicaciones se agregarán aquí dinámicamente -->
                        <tr class="empty-state">
                            <td colspan="6">
                                <i class="fa-solid fa-inbox"></i>
                                <p>No hay ubicaciones registradas aún</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>

</body>
</html>